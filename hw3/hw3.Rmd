---
title: "HW3"
output: html_document
date: "2025-10-26"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Question 1 
Suppose that we have age data including the following numbers in sorted order. Then answer the questions below. (5
points each)
age: 
```{r preparing data}
  
    data = c(13, 15, 16, 16, 19, 20, 20, 21, 22, 22, 25, 25, 25, 25, 30, 33, 33, 35, 35, 35, 35, 36, 40, 45, 46, 52, 70)
```

# a)
Use smoothing by bin means to smooth the above data, using a bin depth of 3. Illustrate your steps. Comment
on the effect of this technique for the given data.


```{r 1a}
data_inuse = data
vector_length = length(data_inuse) #toplam veri uzunligi
depth = 3
bin  = vector_length/depth
bins  = data.frame()
start = 0
for(i in 0:(bin-1))
{
  data_inuse[((i*depth)+1):(((i*depth)+1)+(depth-1))] = mean(data_inuse[((i*depth)+1):(((i*depth)+1)+(depth-1))])

}

print(data_inuse)

```

# b)
Use IQR measure to determine if there are any outliers in this data.
```{r 1b}
data_inuse = data
vector_length = length(data_inuse)
half_pos=0
if(vector_length%%2==0)
{
  q2 = mean(c(data_inuse[vector_length/2] , data_inuse[(vector_length/2)+1]))
  fisrt_half = data_inuse[1:ceiling(vector_length/2)]
  second_half = data_inuse[(ceiling(vector_length/2)+1):length(data_inuse)]
}else
{
  
  q2 = data_inuse[ceiling(vector_length/2)]
  fisrt_half = data_inuse[1:ceiling(vector_length/2)-1]
  second_half = data_inuse[(ceiling(vector_length/2)):length(data_inuse)]
}


if(length(fisrt_half)%%2==0)
{
  q1 = mean(c(fisrt_half[length(fisrt_half)/2] , fisrt_half[(length(fisrt_half)/2)+1]))
}else
{
  q1 = fisrt_half[ceiling(length(fisrt_half)/2)]
}

if(length(second_half)%%2==0)
{
  q3 = mean(c(second_half[length(second_half)/2] , second_half[(length(second_half)/2)+1]))
}else
{
  q3 = second_half[ceiling(length(second_half)/2)]
}
CIQR = (1.5)*(q3-q1)
low_outlier = data_inuse[data_inuse<(q1-CIQR )]
high_outlier = data_inuse[data_inuse>(q3+CIQR )]
print(low_outlier)
print(high_outlier)


  
```
# c)
Use min-max normalization to transform the value 35 for age onto the range [0.0, 1.0].
```{r 1c}
data_inuse = data
mymin = min(data_inuse)
mymax = max(data_inuse)
value =35

normalized = (value-mymin)/(mymax-mymin)
print(normalized)



```

# e)
Use normalization by decimal scaling to transform the value 35 for age.
```{r 1d}
data_inuse = abs(data)
mymax= max(data_inuse)
j= floor(log(mymax,base=10))+1
x=35
scaledx = 35/(10^j)
print(scaledx)

```



# d)
Use z-score normalization to transform the value 35 for age? (you need to compute mean and standard deviation first)
```{r 1d}
data_inuse = data
mymean  = mean(data_inuse)
mysd = sd(data_inuse)
value = 35
z = (value-mymean)/mysd
print(z)
```

## Question 2 
Write a function in your preferred language which can take a data vector and do min-max normalization by transforming data onto a desired range. For example, it should be able get the age data above and map it between any two numbers. (foo (a, min_new, max_new) where a is an one-dimensional array) (25 points)


```{r q2}
scale_minmax= function (a,min_new,max_new)
{
  a_min =  min(a)
  a_max = max(a)
  
  rv = min_new + (a-a_min)*(max_new-min_new)/(a_max-a_min)
  return(rv)  
}
data_inuse = data
new_min =10
new_max=30
scaled_data = scale_minmax(data_inuse,new_min,new_max)
print(scaled_data)

```














